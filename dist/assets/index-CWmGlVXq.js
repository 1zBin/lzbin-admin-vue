import{_ as He}from"./index.vue_vue_type_script_setup_true_lang-CT2Tvg8M.js";import{u as Ke,a as be,b as _e,i as ve,c as ye,o as We,d as $e,e as ze,f as Ce,l as Oe,r as De,g as Ne,h as Ie,p as Ee}from"./index-B5vk6X0H.js";import{u as we,_ as xe}from"./route-view.vue_vue_type_script_setup_true_lang-CAaGGj9R.js";import{f as Ge,u as e,d as F,ae as Ve,V as Y,aa as ie,a4 as l,ab as h,ac as n,k as s,G as L,a7 as S,af as w,c as A,a2 as k,ag as b,ah as B,s as J,F as U,S as D,ai as H,aj as X,ak as je,al as Z,H as qe,m as Se,A as Me,am as Je,b as Qe,B as fe,w as Xe,an as ke}from"./vue-fN1Vr7K9.js";import{U as Ye,b as Ze,L as et,c as tt,e as ae,f as at,M as ee,D as Re,g as Be,h as de,S as ot,i as nt,j as lt,m as st,n as it,p as Te,q as dt,r as rt,s as Le,t as oe,u as ut,v as Ue,w as ue,x as ce,y as pe,z as re,B as ge,N as ct,E as pt,F as mt,G as ht,H as yt,I as ft,R as kt,J as gt,T as bt,K as _t}from"./antd-DmgnH5Vs.js";import{u as E,s as V,n as ne,a as le,b as O,e as te,c as vt}from"./context-DZ-H60ZQ.js";import{u as $t}from"./query-breakpoints-BeBF-vi0.js";function me(){return new DOMException("The request is not allowed","NotAllowedError")}async function Ct(g){if(!navigator.clipboard)throw me();return navigator.clipboard.writeText(g)}async function wt(g){const o=document.createElement("span");o.textContent=g,o.style.whiteSpace="pre",o.style.webkitUserSelect="auto",o.style.userSelect="all",document.body.appendChild(o);const t=window.getSelection(),c=window.document.createRange();t.removeAllRanges(),c.selectNode(o),t.addRange(c);let m=!1;try{m=window.document.execCommand("copy")}finally{t.removeAllRanges(),window.document.body.removeChild(o)}if(!m)throw me()}async function St(g){try{await Ct(g)}catch(o){try{await wt(g)}catch(t){throw t||o||me()}}}var Mt=(g=3e3)=>{const o=Ge(!1);return{copied:o,copy:c=>{const m=e(c);St(m).then(()=>{o.value=!0;const r=setTimeout(()=>{o.value=!1,clearTimeout(r)},g)})}}};const Rt={hover:"bg-[var(--hover-color)]",flex:"","items-center":"","h-48px":"","px-12px":"","cursor-pointer":"",class:"transition-all-300"},Bt={class:"anticon"},Tt=F({__name:"index",setup(g){const o=Ke(),t=be(),c=we(),m=_e(),r=Ve(),{avatar:i,nickname:p}=Y(t);async function d({key:$}){if($==="logout"){const _=o.loading("退出登录...",0);try{await t.logout()}finally{_(),o.success("退出登录成功",3),r.push({path:"/login"}).then(()=>{c.clear(),m.clear()})}}}return($,_)=>{const C=tt,v=ie("RouterLink"),f=ae,a=at,u=ee,R=Re;return l(),h(R,null,{overlay:n(()=>[s(u,{onClick:d},{default:n(()=>[s(f,{key:"0"},{icon:n(()=>[s(e(Ye))]),default:n(()=>[s(v,{to:"/account/center"},{default:n(()=>[L(" 个人中心 ")]),_:1})]),_:1}),s(f,{key:"1"},{icon:n(()=>[s(e(Ze))]),default:n(()=>[s(v,{to:"/account/settings"},{default:n(()=>[L(" 个人设置 ")]),_:1})]),_:1}),s(a),s(f,{key:"logout"},{icon:n(()=>[s(e(et))]),default:n(()=>[L(" 退出登录 ")]),_:1})]),_:1})]),default:n(()=>[S("span",Rt,[s(C,{src:e(i),"mr-8px":"",size:"small"},null,8,["src"]),S("span",Bt,w(e(p)),1)])]),_:1})}}}),Lt={"c-primary":""},Ut=["src"],At={key:0},Ft=F({__name:"global-header-logo",setup(g){const{logo:o,title:t,layout:c,isMobile:m}=E(),r=A(()=>({"ant-pro-global-header-logo":c.value==="mix"||m.value,"ant-pro-top-nav-header-logo":c.value==="top"&&!m.value}));return(i,p)=>(l(),k("div",{class:B(e(r))},[S("a",Lt,[S("img",{src:e(o)},null,8,Ut),e(m)?b("",!0):(l(),k("h1",At,w(e(t)),1))])],2))}}),Pt=F({__name:"index",setup(g){const{layout:o,isMobile:t,handleMobileCollapsed:c,theme:m,menuHeader:r,collapsed:i,handleCollapsed:p,leftCollapsed:d}=E(),$=J("ant-pro-global-header"),_=A(()=>({[$.value]:!0,[`${$.value}-layout-${o.value}`]:!!o.value,[`${$.value}-inverted`]:m.value==="inverted"&&o.value==="top"}));return(C,v)=>{const f=ot;return l(),k("div",{class:B([e(_)])},[e(o)==="side"&&!e(t)&&!e(d)?(l(),k("span",{key:0,class:"ml-0 text-18px",onClick:v[0]||(v[0]=a=>{var u;return(u=e(p))==null?void 0:u(!e(i))})},[e(i)?(l(),h(e(Be),{key:0})):(l(),h(e(de),{key:1}))])):b("",!0),e(r)?(l(),k(U,{key:1},[e(o)!=="side"||e(t)?(l(),h(Ft,{key:0})):b("",!0)],64)):b("",!0),e(t)?(l(),k("span",{key:2,class:"ant-pro-global-header-collapsed-button",onClick:v[1]||(v[1]=(...a)=>e(c)&&e(c)(...a))},[s(e(de))])):b("",!0),S("div",{class:B(["flex-1",e(o)==="top"?`${e($)}-top`:"overflow-x-auto"])},[D(C.$slots,"headerContent")],2),s(f,{align:"center","flex-shrink-0":""},{default:n(()=>[D(C.$slots,"headerActions")]),_:3})],2)}}}),Ht=F({__name:"index",setup(g){const{headerHeight:o,fixedHeader:t,layout:c,isMobile:m,collapsed:r,collapsedWidth:i,siderWidth:p,menu:d,splitMenus:$,selectedMenus:_}=E(),C=A(()=>{const a={height:`${o.value}px`,lineHeight:`${o.value}px`,paddingInline:0};if((t.value||c.value==="mix")&&(a.zIndex=100,a.width="100%",a.right=0),c.value==="side"&&d.value){if(!m.value&&t.value){const u=r.value?i.value:p.value;a.width=`calc(100% - ${u}px)`}a.zIndex=19}return a}),v=A(()=>{const a=[];return(t.value||c.value==="mix")&&a.push("ant-pro-fixed-header"),c.value&&a.push("ant-pro-fixed-header-action"),c.value==="mix"&&a.push("ant-pro-fixed-header-inverted"),a}),f=A(()=>t.value||c.value==="mix"&&($.value?(_.value??[]).length>0:!0));return(a,u)=>{const R=nt;return l(),k(U,null,[e(f)?(l(),h(R,{key:0,style:H({height:`${e(o)}px`,lineHeight:`${e(o)}px`,background:"transparent"})},null,8,["style"])):b("",!0),s(R,{style:H(e(C)),class:B(e(v))},{default:n(()=>[s(Pt,null,X({_:2},[a.$slots.headerActions?{name:"headerActions",fn:n(()=>[D(a.$slots,"headerActions")]),key:"0"}:void 0,a.$slots.headerContent?{name:"headerContent",fn:n(()=>[D(a.$slots,"headerContent")]),key:"1"}:void 0]),1024)]),_:3},8,["style","class"])],64)}}}),se=F({__name:"async-icon",props:{icon:{type:[String,Function]}},setup(g){const o=g,t=A(()=>{if(ve(o.icon)){const c=o.icon();if(c)return c}else return lt[o.icon]});return(c,m)=>c.icon?(l(),h(je(e(t)),{key:0})):b("",!0)}}),Kt=["href","target"],Wt=["href","target"],Ae=F({__name:"sub-menu",props:{item:{},link:{type:Boolean,default:!0}},setup(g){function o(t){return ve(t)?t():t}return(t,c)=>{const m=ie("sub-menu",!0),r=ie("RouterLink"),i=ae,p=st;return t.item.children&&!t.item.hideChildrenInMenu?(l(),h(p,{key:t.item.path},X({title:n(()=>[L(w(o(t.item.title)),1)]),default:n(()=>[(l(!0),k(U,null,Z(t.item.children,d=>(l(),k(U,null,[d.hideInMenu?b("",!0):(l(),k(U,{key:0},[d.children?(l(),h(m,{key:d.path,item:d},null,8,["item"])):(l(),h(i,{key:d.path},X({default:n(()=>[e(ye)(d.path)?(l(),k("a",{key:1,href:d.path,target:d.target??"_blank"},w(o(d.title)),9,Kt)):(l(),k(U,{key:0},[t.link?(l(),h(r,{key:0,to:d.path},{default:n(()=>[L(w(o(d.title)),1)]),_:2},1032,["to"])):(l(),k(U,{key:1},[L(w(o(d.title)),1)],64))],64))]),_:2},[d.icon?{name:"icon",fn:n(()=>[s(se,{icon:d.icon},null,8,["icon"])]),key:"0"}:void 0]),1024))],64))],64))),256))]),_:2},[t.item.icon?{name:"icon",fn:n(()=>[s(se,{icon:t.item.icon},null,8,["icon"])]),key:"0"}:void 0]),1024)):(l(),h(i,{key:t.item.path},X({default:n(()=>[e(ye)(t.item.path)?(l(),k("a",{key:1,href:t.item.path,target:t.item.target??"_blank"},w(o(t.item.title)),9,Wt)):(l(),k(U,{key:0},[t.link?(l(),h(r,{key:0,to:t.item.path},{default:n(()=>[L(w(o(t.item.title)),1)]),_:1},8,["to"])):(l(),k(U,{key:1},[L(w(o(t.item.title)),1)],64))],64))]),_:2},[t.item.icon?{name:"icon",fn:n(()=>[s(se,{icon:t.item.icon},null,8,["icon"])]),key:"0"}:void 0]),1024))}}}),Fe=F({__name:"index",setup(g){const{theme:o,collapsed:t,layout:c,isMobile:m,selectedMenus:r,selectedKeys:i,openKeys:p,handleOpenKeys:d,handleSelectedKeys:$,handleMenuSelect:_}=E(),C=A(()=>o.value==="inverted"?"dark":o.value);return(v,f)=>{const a=ee;return l(),h(a,{"selected-keys":e(i),"open-keys":e(t)?[]:e(p),mode:e(c)==="top"&&!e(m)?"horizontal":"inline",theme:e(C),collapsed:e(t),class:"ant-pro-sider-menu","onUpdate:openKeys":e(d),"onUpdate:selectedKeys":e($),onSelect:e(_)},{default:n(()=>[(l(!0),k(U,null,Z(e(r),u=>(l(),k(U,null,[u.hideInMenu?b("",!0):(l(),h(Ae,{key:u.path,item:u},null,8,["item"]))],64))),256))]),_:1},8,["selected-keys","open-keys","mode","theme","collapsed","onUpdate:openKeys","onUpdate:selectedKeys","onSelect"])}}}),zt=["src"],Ot={key:0},Dt={class:"flex-1 of-x-hidden of-y-auto scrollbar"},Pe=F({__name:"index",setup(g){const{collapsed:o,leftCollapsed:t,handleCollapsed:c,selectedMenus:m,splitMenus:r,layout:i,logo:p,theme:d,title:$,collapsedWidth:_,siderWidth:C,headerHeight:v,fixedSider:f,isMobile:a,header:u}=E(),R=J("ant-pro-sider"),x=A(()=>{const y={paddingTop:`${i.value!=="side"&&!a.value?v.value:0}px`,transition:"background-color 0.3s ease 0s, min-width 0.3s ease 0s, max-width 0.3s cubic-bezier(0.645, 0.045, 0.355, 1) 0s",overflow:"hidden"};return i.value==="mix"&&u.value===!1&&(y.paddingTop="0px"),y}),Q=A(()=>({[R.value]:!0,[`${R.value}-fixed`]:f.value,[`${R.value}-layout-${i.value}`]:!!i.value})),G=A(()=>(i.value==="side"||a.value)&&i.value!=="mix");return(y,T)=>{const M=ae,W=ee,z=it;return l(),k(U,null,[e(f)?(l(),k("div",{key:0,style:H({width:e(o)?`${e(_)}px`:`${e(C)}px`,maxWidth:e(o)?`${e(_)}px`:`${e(C)}px`,minWidth:e(o)?`${e(_)}px`:`${e(C)}px`,...e(x)})},null,4)):b("",!0),!e(r)||(e(m)??[]).length>0?(l(),h(z,{key:1,theme:e(d)==="inverted"?"dark":"light",collapsed:e(o)&&!e(a),trigger:null,"collapsed-width":e(_),width:e(C),collapsible:"",class:B(e(Q)),style:H(e(x))},{default:n(()=>[e(G)?(l(),k("div",{key:0,class:B(["ant-pro-sider-logo",e(o)&&!e(a)?"ant-pro-sider-collapsed":""])},[S("a",null,[S("img",{src:e(p),alt:"logo"},null,8,zt),!e(o)||e(a)?(l(),k("h1",Ot,w(e($)),1)):b("",!0)])],2)):b("",!0),S("div",Dt,[s(Fe)]),!e(a)&&e(t)?(l(),k("div",{key:1,class:B(["w-100% flex-shrink-0 ant-pro-sider-collapsed-button",e(d)==="inverted"?"ant-pro-sider-collapsed-button-inverted":""])},[s(W,{class:"ant-pro-sider-menu",mode:"inline",theme:e(d)==="inverted"?"dark":"light",selectable:!1,onClick:T[0]||(T[0]=N=>{var I;return(I=e(c))==null?void 0:I(!e(o))})},{default:n(()=>[s(M,null,{icon:n(()=>[e(o)?(l(),h(e(Be),{key:0})):(l(),h(e(de),{key:1}))]),_:1})]),_:1},8,["theme"])],2)):b("",!0)]),_:1},8,["theme","collapsed","collapsed-width","width","class","style"])):b("",!0)],64)}}}),Nt=F({__name:"index",setup(g){const{mobileCollapsed:o,siderWidth:t}=E();return(c,m)=>{const r=Te;return l(),h(r,{open:e(o),"onUpdate:open":m[0]||(m[0]=i=>qe(o)?o.value=i:null),closable:!1,placement:"left",width:e(t)},{default:n(()=>[s(Pe)]),_:1},8,["open","width"])}}}),It=F({__name:"split-menu",setup(g){const{splitState:o,menuData:t,handleSplitSelectedKeys:c}=E(),m=A(()=>{var r;return(r=t.value)==null?void 0:r.map(i=>({...We(i,["children"]),childrenCount:(i.children??[]).length}))});return(r,i)=>{const p=ee;return l(),h(p,{mode:"horizontal",theme:"dark",class:"ant-pro-sider-menu-header","selected-keys":e(o).selectedKeys,"onUpdate:selectedKeys":e(c)},{default:n(()=>[(l(!0),k(U,null,Z(e(m),d=>(l(),k(U,null,[d.hideInMenu?b("",!0):(l(),h(Ae,{key:d.path,item:d,link:d.childrenCount<=0},null,8,["item","link"]))],64))),256))]),_:1},8,["selected-keys","onUpdate:selectedKeys"])}}}),Et={"onUpdate:openKeys":te(),"onUpdate:selectedKeys":te(),onMenuSelect:te()},xt={layout:V("mix"),logo:V(),title:V(),collapsedWidth:ne(48),siderWidth:ne(234),headerHeight:ne(48),menuData:le(),fixedHeader:O(!1),fixedSider:O(!0),splitMenus:O(),collapsed:O(!1),leftCollapsed:O(!1),theme:V("light"),onCollapsed:te(),isMobile:O(),contentWidth:V(),header:O(!0),footer:O(!0),menu:O(!0),menuHeader:O(!0),openKeys:le(),selectedKeys:le(),copyright:V(),...Et},Gt=["data-theme"],Vt=F({name:"BasicLayout",__name:"index",props:xt,emits:["update:collapsed"],setup(g,{emit:o}){const t=g,c=o;function m(d){var $;c("update:collapsed",d),($=t==null?void 0:t.onCollapsed)==null||$.call(t,d)}const{layout:r,contentWidth:i}=vt(t,{handleCollapsed:m}),p=A(()=>i.value==="Fixed"?"ant-pro-basicLayout-content-fixed":"");return(d,$)=>{const _=rt,C=dt;return l(),k("div",{class:"ant-pro-basicLayout","data-theme":d.theme},[s(C,null,{default:n(()=>[d.menu?(l(),k(U,{key:0},[e(r)!=="top"&&!d.isMobile?(l(),h(Pe,{key:0})):b("",!0)],64)):b("",!0),s(C,null,{default:n(()=>[d.header?(l(),h(Ht,{key:0},X({_:2},[d.$slots.headerActions?{name:"headerActions",fn:n(()=>[D(d.$slots,"headerActions")]),key:"0"}:void 0,d.$slots.headerContent||e(r)==="top"||e(r)==="mix"?{name:"headerContent",fn:n(()=>[D(d.$slots,"headerContent",{},()=>[!d.isMobile&&e(r)==="top"?(l(),h(Fe,{key:0})):b("",!0),!d.isMobile&&e(r)==="mix"&&t.splitMenus?(l(),h(It,{key:1})):b("",!0)])]),key:"1"}:void 0]),1024)):b("",!0),D(d.$slots,"contentPrefix"),s(_,{class:"ant-pro-basicLayout-content",flex:"","flex-col":""},{default:n(()=>[S("div",{"h-full":"",flex:"","flex-col":"","flex-1":"",class:B(e(p))},[D(d.$slots,"default")],2)]),_:3})]),_:3})]),_:3}),d.menu?(l(),h(Nt,{key:0})):b("",!0)],8,Gt)}}}),jt={"mb-24px":""},qt={"font-500":"","mb-12px":"","text-14px":"","line-height-22px":""},j=F({__name:"body",props:{title:{}},setup(g){return(o,t)=>(l(),k("div",jt,[S("h3",qt,w(o.title),1),D(o.$slots,"default")]))}}),q=F({__name:"block-checkbox",props:{theme:{},isDark:{type:Boolean},checked:{type:Boolean},t:{type:Function}},setup(g){const o=g,t=J("ant-pro-drawer-setting-block-checkbox"),c=A(()=>({[`${t.value}-item`]:!0,[`${t.value}-theme-item`]:o.isDark,[`${t.value}-item-${o.theme}`]:!!o.theme,[`${t.value}-theme-item-${o.theme}`]:o.isDark})),{token:m}=$e();return(r,i)=>{const p=oe;return l(),h(p,null,{title:n(()=>{var d;return[L(w((d=r.t)==null?void 0:d.call(r,`app.setting.pagestyle.${r.theme}`??"")),1)]}),default:n(()=>{var d;return[S("div",{class:B(e(c))},[Se(s(e(Le),{style:H({color:(d=e(m))==null?void 0:d.colorPrimary}),class:B(`${e(t)}-selectIcon`)},null,8,["style","class"]),[[Me,r.checked]])],2)]}),_:1})}}}),Jt=["onClick"],Qt=F({__name:"theme-color",props:{colorList:{},color:{},onChange:{type:Function},t:{type:Function}},setup(g){const o=J("ant-pro-drawer-setting-theme-color");return(t,c)=>{const m=oe;return l(),k("div",{class:B(`${e(o)}`)},[S("div",{class:B(`${e(o)}-content`)},[(l(!0),k(U,null,Z(t.colorList,r=>(l(),h(m,{key:r.color},{title:n(()=>{var i;return[L(w((i=t.t)==null?void 0:i.call(t,`app.setting.themecolor.${r.key}`)),1)]}),default:n(()=>[S("div",{class:B(`${e(o)}-block`),style:H({backgroundColor:r.color}),onClick:i=>{var p;return(p=t.onChange)==null?void 0:p.call(t,r.color)}},[Se(s(e(Le),null,null,512),[[Me,t.color===r.color]])],14,Jt)]),_:2},1024))),128))],2)],2)}}}),Xt=F({__name:"layout-setting",props:{contentWidth:{},layout:{},fixedHeader:{type:Boolean},fixedSider:{type:Boolean},splitMenus:{type:Boolean},keepAlive:{type:Boolean},accordionMode:{type:Boolean},leftCollapsed:{type:Boolean},compactAlgorithm:{type:Boolean},t:{type:Function}},emits:["changeSetting"],setup(g,{emit:o}){const t=g,c=o,m=A(()=>[{title:"内容区域宽度",key:"contentWidth",disabled:!1,disabledReason:""},{title:"固定 Header",key:"fixedHeader",disabled:t.layout==="mix",disabledReason:""},{title:"固定侧边菜单",key:"fixSiderbar",disabled:!1,disabledReason:""},{title:"自动分割菜单",key:"splitMenus",disabled:t.layout!=="mix",disabledReason:""},{title:"缓存功能",key:"keepAlive",disabled:!1,disabledReason:""},{title:"菜单手风琴模式",key:"accordionMode",disabled:!1,disabledReason:""},{title:"侧边菜单折叠 左侧",key:"leftCollapsed",disabled:t.layout!=="side",disabledReason:""},{title:"紧凑模式",key:"compactAlgorithm",disabled:!1,disabledReason:""}]);function r(i,p){c("changeSetting",i,p)}return(i,p)=>{const d=ut,$=Ue,_=ue,C=ce,v=oe,f=pe;return l(),h(f,{"data-source":e(m),split:!1},{renderItem:n(({item:a})=>[s(v,{title:a.disabled?a.disabledReason:"",placement:"left"},{default:n(()=>[s(C,null,{actions:n(()=>[a.key==="contentWidth"?(l(),h($,{key:0,size:"small",disabled:a.disabled,value:i.contentWidth||"Fluid","onUpdate:value":p[0]||(p[0]=u=>r("contentWidth",u))},{default:n(()=>[i.layout==="top"?(l(),h(d,{key:0,value:"Fixed"},{default:n(()=>{var u;return[L(w(((u=i.t)==null?void 0:u.call(i,"app.setting.content-width.fixed"))??"Fixed"),1)]}),_:1})):b("",!0),s(d,{value:"Fluid"},{default:n(()=>{var u;return[L(w(((u=i.t)==null?void 0:u.call(i,"app.setting.content-width.fluid"))??"Fluid"),1)]}),_:1})]),_:2},1032,["disabled","value"])):b("",!0),a.key==="fixedHeader"?(l(),h(_,{key:1,size:"small",checked:i.fixedHeader,disabled:a.disabled,"onUpdate:checked":p[1]||(p[1]=u=>r("fixedHeader",u))},null,8,["checked","disabled"])):b("",!0),a.key==="fixSiderbar"?(l(),h(_,{key:2,size:"small",checked:i.fixedSider,disabled:a.disabled,"onUpdate:checked":p[2]||(p[2]=u=>r("fixedSider",u))},null,8,["checked","disabled"])):b("",!0),a.key==="splitMenus"?(l(),h(_,{key:3,size:"small",checked:i.splitMenus,disabled:a.disabled,"onUpdate:checked":p[3]||(p[3]=u=>r("splitMenus",u))},null,8,["checked","disabled"])):b("",!0),a.key==="keepAlive"?(l(),h(_,{key:4,size:"small",checked:i.keepAlive,disabled:a.disabled,"onUpdate:checked":p[4]||(p[4]=u=>r("keepAlive",u))},null,8,["checked","disabled"])):b("",!0),a.key==="accordionMode"?(l(),h(_,{key:5,size:"small",checked:i.accordionMode,disabled:a.disabled,"onUpdate:checked":p[5]||(p[5]=u=>r("accordionMode",u))},null,8,["checked","disabled"])):b("",!0),a.key==="leftCollapsed"?(l(),h(_,{key:6,size:"small",checked:i.leftCollapsed,disabled:a.disabled,"onUpdate:checked":p[6]||(p[6]=u=>r("leftCollapsed",u))},null,8,["checked","disabled"])):b("",!0),a.key==="compactAlgorithm"?(l(),h(_,{key:7,size:"small",checked:i.compactAlgorithm,disabled:a.disabled,"onUpdate:checked":p[7]||(p[7]=u=>r("compactAlgorithm",u))},null,8,["checked","disabled"])):b("",!0)]),default:n(()=>{var u;return[S("span",{style:H({opacity:a.disabled?"0.5":"1"})},w(((u=i.t)==null?void 0:u.call(i,`app.setting.content-width.${a.key}`,a.title))??a.title),5)]}),_:2},1024)]),_:2},1032,["title"])]),_:1},8,["data-source"])}}}),Yt=F({__name:"regional-setting",props:{layout:{},header:{type:Boolean},footer:{type:Boolean},menu:{type:Boolean},watermark:{type:Boolean},menuHeader:{type:Boolean},multiTab:{type:Boolean},multiTabFixed:{type:Boolean},animationName:{},animationNameList:{},t:{type:Function}},emits:["changeSetting"],setup(g,{emit:o}){const t=g,c=o,m=A(()=>[{title:"动画",key:"animationName",disabled:!1,disabledReason:""},{title:"水印",key:"watermark",disabled:!1,disabledReason:""},{title:"顶栏",key:"header",disabled:!1,disabledReason:""},{title:"页脚",key:"footer",disabled:!1,disabledReason:""},{title:"菜单",key:"menu",disabled:t.layout==="top",disabledReason:""},{title:"菜单头",key:"menuHeader",disabled:!1,disabledReason:""},{title:"多页签",key:"multiTab",disabled:!1,disabledReason:""},{title:"固定多页签",key:"multiTabFixed",disabled:!1,disabledReason:"多页签开启后功能正常使用"}]);function r(i,p){c("changeSetting",i,p)}return(i,p)=>{const d=ue,$=Ue,_=ce,C=oe,v=pe;return l(),h(v,{"data-source":e(m),split:!1},{renderItem:n(({item:f})=>[s(C,{title:f.disabled?f.disabledReason:"",placement:"left"},{default:n(()=>[s(_,null,{actions:n(()=>[f.key!=="animationName"?(l(),h(d,{key:0,size:"small",checked:t[f.key],disabled:f.disabled,"onUpdate:checked":a=>r(f.key,a)},null,8,["checked","disabled","onUpdate:checked"])):(l(),h($,{key:1,style:{width:"120px"},value:i.animationName,options:i.animationNameList,size:"small","onUpdate:value":a=>r(f.key,a)},null,8,["value","options","onUpdate:value"]))]),default:n(()=>{var a;return[S("span",{style:H({opacity:f.disabled?"0.5":"1"})},w(((a=i.t)==null?void 0:a.call(i,`app.setting.content-area.${f.key}`,f.title))??f.title),5)]}),_:2},1024)]),_:2},1032,["title"])]),_:1},8,["data-source"])}}}),Zt=F({__name:"other-setting",props:{colorWeak:{type:Boolean},colorGray:{type:Boolean},t:{type:Function}},emits:["changeSetting"],setup(g,{emit:o}){const t=g,c=o,m=A(()=>[{title:"weakmode",key:"colorWeak",disabled:!1,disabledReason:""},{title:"graymode",key:"colorGray",disabled:!1,disabledReason:""}]);function r(p,d){c("changeSetting",p,d)}function i(p){return Reflect.get(t,p)}return(p,d)=>{const $=ue,_=ce,C=pe;return l(),h(C,{"data-source":e(m),split:!1},{renderItem:n(({item:v})=>[s(_,null,{actions:n(()=>[s($,{size:"small",checked:i(v.key),disabled:v.disabled,"onUpdate:checked":f=>r(v.key,f)},null,8,["checked","disabled","onUpdate:checked"])]),default:n(()=>{var f;return[S("span",{style:H({opacity:v.disabled?"0.5":"1"})},w(((f=p.t)==null?void 0:f.call(p,`app.setting.${v.title}`,v.title))??v.title),5)]}),_:2},1024)]),_:1},8,["data-source"])}}}),ea={flex:"","gap-2":"","flex-col":""},ta=F({name:"SettingDrawer",__name:"index",props:{open:{type:Boolean},theme:{default:"light"},colorPrimary:{},colorList:{default:()=>[{key:"techBlue",color:"#1677FF"},{key:"daybreak",color:"#1890ff"},{key:"dust",color:"#F5222D"},{key:"volcano",color:"#FA541C"},{key:"sunset",color:"#FAAD14"},{key:"cyan",color:"#13C2C2"},{key:"green",color:"#52C41A"},{key:"geekblue",color:"#2F54EB"},{key:"purple",color:"#722ED1"}]},layout:{},contentWidth:{},fixedHeader:{type:Boolean},fixedSider:{type:Boolean},splitMenus:{type:Boolean},keepAlive:{type:Boolean},accordionMode:{type:Boolean},leftCollapsed:{type:Boolean},watermark:{type:Boolean},header:{type:Boolean},footer:{type:Boolean},menu:{type:Boolean},menuHeader:{type:Boolean},colorWeak:{type:Boolean},colorGray:{type:Boolean},multiTab:{type:Boolean},multiTabFixed:{type:Boolean},compactAlgorithm:{type:Boolean},animationName:{},animationNameList:{},layoutSetting:{},t:{}},emits:["update:open","settingChange"],setup(g,{emit:o}){const t=g,c=o,{copy:m}=Mt(),r=J("ant-pro-drawer-setting"),{message:i}=ze();function p(){var a;m(JSON.stringify(t.layoutSetting??{})),i==null||i.success((a=t==null?void 0:t.t)==null?void 0:a.call(t,"app.setting.copyinfo","拷贝成功，请到 config/default-settings.js 中替换默认配置"))}function d(a){c("update:open",a)}function $(a){c("settingChange","theme",a)}function _(a){c("settingChange","colorPrimary",a)}function C(a){c("settingChange","layout",a)}function v(a,u){c("settingChange",a,u)}const{token:f}=$e();return(a,u)=>{var y,T,M;const R=mt,x=ht,Q=yt,G=Te;return l(),k(U,null,[S("div",{class:B(`${e(r)}-handle`),style:H({backgroundColor:(y=e(f))==null?void 0:y.colorPrimary,borderEndStartRadius:`${(T=e(f))==null?void 0:T.borderRadius}px`,borderStartStartRadius:`${(M=e(f))==null?void 0:M.borderRadius}px`}),onClick:u[0]||(u[0]=W=>d(!a.open))},[a.open?(l(),h(e(re),{key:0,class:B(`${e(r)}-handle-icon${a.theme==="light"?"":"-dark"}`),style:{"font-size":"20px"}},null,8,["class"])):(l(),h(e(ge),{key:1,class:B(`${e(r)}-handle-icon${a.theme==="light"?"":"-dark"}`),style:{"font-size":"20px"}},null,8,["class"]))],6),s(G,{open:a.open,width:300,placement:"right",closable:!1,"onUpdate:open":d},{handle:n(()=>{var W,z,N;return[S("div",{class:B(`${e(r)}-handle`),style:H({position:"absolute",top:"240px",right:"300px",backgroundColor:(W=e(f))==null?void 0:W.colorPrimary,borderEndStartRadius:`${(z=e(f))==null?void 0:z.borderRadius}px`,borderStartStartRadius:`${(N=e(f))==null?void 0:N.borderRadius}px`}),onClick:u[1]||(u[1]=I=>d(!a.open))},[a.open?(l(),h(e(re),{key:0,class:B(`${e(r)}-handle-icon${t.theme==="light"?"":"-dark"}`),style:{"font-size":"20px"}},null,8,["class"])):(l(),h(e(ge),{key:1,class:B(`${e(r)}-handle-icon${t.theme==="light"?"":"-dark"}`),style:{"font-size":"20px"}},null,8,["class"]))],6)]}),default:n(()=>{var W,z,N,I,P;return[S("div",{class:B(`${e(r)}-content`)},[s(j,{title:((W=a.t)==null?void 0:W.call(a,"app.setting.pagestyle"))??"整体风格设计"},{default:n(()=>[S("div",{class:B(`${e(r)}-block-checkbox`)},[s(q,{t:a.t,checked:t.theme==="light",theme:"light","is-dark":t.theme==="dark",onClick:u[2]||(u[2]=K=>$("light"))},null,8,["t","checked","is-dark"]),a.layout!=="mix"?(l(),h(q,{key:0,t:a.t,checked:t.theme==="inverted",theme:"inverted","is-dark":t.theme==="dark",onClick:u[3]||(u[3]=K=>$("inverted"))},null,8,["t","checked","is-dark"])):b("",!0),s(q,{t:a.t,checked:t.theme==="dark",theme:"dark","is-dark":t.theme==="dark",onClick:u[4]||(u[4]=K=>$("dark"))},null,8,["t","checked","is-dark"])],2)]),_:1},8,["title"]),s(j,{title:((z=a.t)==null?void 0:z.call(a,"app.setting.themecolor"))??"主题色"},{default:n(()=>[s(Qt,{t:a.t,"color-list":a.colorList,color:a.colorPrimary,onChange:_},null,8,["t","color-list","color"])]),_:1},8,["title"]),s(R),s(j,{title:((N=a.t)==null?void 0:N.call(a,"app.setting.pagestyle.mode"))??"导航模式"},{default:n(()=>[S("div",{class:B(`${e(r)}-block-checkbox`)},[s(q,{t:a.t,theme:"side",checked:a.layout==="side","is-dark":t.theme==="dark",onClick:u[5]||(u[5]=K=>C("side"))},null,8,["t","checked","is-dark"]),s(q,{t:a.t,theme:"top",checked:a.layout==="top","is-dark":t.theme==="dark",onClick:u[6]||(u[6]=K=>C("top"))},null,8,["t","checked","is-dark"]),s(q,{t:a.t,theme:"mix",checked:a.layout==="mix","is-dark":t.theme==="dark",onClick:u[7]||(u[7]=K=>C("mix"))},null,8,["t","checked","is-dark"])],2)]),_:1},8,["title"]),s(Xt,{layout:a.layout,t:a.t,"content-width":a.contentWidth,"fixed-header":a.fixedHeader,"fixed-sider":a.fixedSider,"split-menus":a.splitMenus,"keep-alive":a.keepAlive,"accordion-mode":a.accordionMode,"left-collapsed":a.leftCollapsed,"compact-algorithm":a.compactAlgorithm,onChangeSetting:v},null,8,["layout","t","content-width","fixed-header","fixed-sider","split-menus","keep-alive","accordion-mode","left-collapsed","compact-algorithm"]),s(R),s(j,{title:((I=a.t)==null?void 0:I.call(a,"app.setting.content-area.title"))??"内容区域"},{default:n(()=>[s(Yt,{t:a.t,layout:a.layout,header:a.header,watermark:a.watermark,"menu-header":a.menuHeader,footer:a.footer,"animation-name":a.animationName,"animation-name-list":a.animationNameList,"multi-tab":a.multiTab,"multi-tab-fixed":a.multiTabFixed,menu:a.menu,onChangeSetting:v},null,8,["t","layout","header","watermark","menu-header","footer","animation-name","animation-name-list","multi-tab","multi-tab-fixed","menu"])]),_:1},8,["title"]),s(R),s(j,{title:((P=a.t)==null?void 0:P.call(a,"app.setting.othersettings"))??"其他设置"},{default:n(()=>[s(Zt,{t:a.t,"color-weak":a.colorWeak,"color-gray":a.colorGray,onChangeSetting:v},null,8,["t","color-weak","color-gray"])]),_:1},8,["title"]),s(R),s(j,null,{default:n(()=>{var K;return[S("div",ea,[s(x,{type:"warning","show-icon":"",message:((K=a.t)==null?void 0:K.call(a,"app.setting.production.hint"))??"配置栏只在开发环境用于预览，生产环境不会展现，请拷贝后手动修改配置文件"},{icon:n(()=>[s(e(ct))]),_:1},8,["message"]),s(Q,{onClick:p},{default:n(()=>{var he;return[s(e(pt)),L(" "+w((he=a.t)==null?void 0:he.call(a,"app.setting.copy","拷贝设置")),1)]}),_:1})])]}),_:1})],2)]}),_:1},8,["open"])],64)}}}),aa=["onClick"],oa=["onClick"],na=S("div",{class:"w-24px"},null,-1),la={class:"w-48px flex item-center justify-center"},sa=F({__name:"index",setup(g){const o=we(),{list:t,activeKey:c}=Y(o),{layoutSetting:m}=Y(Ce()),{layout:r,isMobile:i,collapsed:p,collapsedWidth:d,siderWidth:$,menu:_,selectedMenus:C}=E(),v=A(()=>{var T;const y={};if(m.value.multiTabFixed&&(y.position="fixed",y.top=`${m.value.headerHeight}px`,y.zIndex=199,y.right=0),(r.value==="side"||r.value==="mix")&&_.value&&!i.value&&m.value.multiTabFixed&&(T=C.value)!=null&&T.length){const M=p.value?d.value:$.value;y.width=`calc(100% - ${M}px)`}return m.value.header===!1&&(y.top="0px"),y}),f=J(),{height:a}=Je(f);function u({key:y},T){y==="closeCurrent"?o.close(c.value):y==="closeLeft"?o.closeLeft(T):y==="closeRight"?o.closeRight(T):y==="closeOther"?o.closeOther(T):y==="refresh"&&o.refresh(c.value)}const R=A(()=>t.value.length===1||t.value.filter(y=>!y.affix).length<=1);function x(y){return t.value.findIndex(M=>M.fullPath===y)===0||t.value.filter(M=>!M.affix).length<=1}function Q(y){return t.value.findIndex(M=>M.fullPath===y)===t.value.length-1||t.value.filter(M=>!M.affix).length<=1}const G=A(()=>t.value.length===1||t.value.filter(y=>!y.affix).length<=1);return Oe(y=>{if(y.fullPath.startsWith("/redirect"))return;const T=t.value.find(M=>M.fullPath===y.fullPath);y.fullPath===c.value&&!(T!=null&&T.loading)||(c.value=y.fullPath,o.addItem(y))},!0),Qe(()=>{De()}),(y,T)=>{const M=ae,W=ee,z=Re,N=gt,I=bt;return l(),k(U,null,[e(m).multiTabFixed?(l(),k("div",{key:0,style:H({height:`${e(a)}px`})},null,4)):b("",!0),s(I,{ref_key:"tabsRef",ref:f,"active-key":e(c),style:H(e(v)),class:"bg-white dark:bg-#242525 w-100% pro-ant-multi-tab","pt-10px":"",type:"card",size:"small","tab-bar-gutter":5,"onUpdate:activeKey":e(o).switchTab},{leftExtra:n(()=>[na]),rightExtra:n(()=>[S("div",la,[s(z,{trigger:["hover"]},{overlay:n(()=>[s(W,{onClick:T[0]||(T[0]=P=>u(P,e(c)))},{default:n(()=>[s(M,{key:"closeOther",disabled:e(R)||e(G)},{default:n(()=>[L(w(y.$t("app.multiTab.closeOther")),1)]),_:1},8,["disabled"]),s(M,{key:"refresh"},{default:n(()=>[L(w(y.$t("app.multiTab.refresh")),1)]),_:1})]),_:1})]),default:n(()=>[s(e(ft),{class:"text-16px"})]),_:1})])]),default:n(()=>[(l(!0),k(U,null,Z(e(t),P=>(l(),h(N,{key:P.fullPath},{tab:n(()=>[s(z,{trigger:["contextmenu"]},{overlay:n(()=>[s(W,{onClick:K=>u(K,P.fullPath)},{default:n(()=>[s(M,{key:"closeCurrent",disabled:e(R)||e(c)!==P.fullPath},{default:n(()=>[L(w(y.$t("app.multiTab.closeCurrent")),1)]),_:2},1032,["disabled"]),s(M,{key:"closeLeft",disabled:e(R)||x(P.fullPath)},{default:n(()=>[L(w(y.$t("app.multiTab.closeLeft")),1)]),_:2},1032,["disabled"]),s(M,{key:"closeRight",disabled:e(R)||Q(P.fullPath)},{default:n(()=>[L(w(y.$t("app.multiTab.closeRight")),1)]),_:2},1032,["disabled"]),s(M,{key:"closeOther",disabled:e(R)||e(G)},{default:n(()=>[L(w(y.$t("app.multiTab.closeOther")),1)]),_:1},8,["disabled"]),s(M,{key:"refresh",disabled:!e(R)},{default:n(()=>[L(w(y.$t("app.multiTab.refresh")),1)]),_:1},8,["disabled"])]),_:2},1032,["onClick"])]),default:n(()=>[S("div",null,[L(w(P.locale?y.$t(P.locale):P.title)+" ",1),e(c)===P.fullPath?(l(),k("button",{key:0,class:"ant-tabs-tab-remove",style:{margin:"0"},onClick:fe(K=>e(o).refresh(P.fullPath),["stop"])},[s(e(kt),{spin:P.loading},null,8,["spin"])],8,aa)):b("",!0),!P.affix&&e(t).length>1?(l(),k("button",{key:1,class:"ant-tabs-tab-remove",style:{margin:"0"},onClick:fe(K=>e(o).close(P.fullPath),["stop"])},[s(e(re))],8,oa)):b("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["active-key","style","onUpdate:activeKey"])],64)}}}),ha=F({name:"ProLayout",__name:"index",setup(g){const o=Ce(),{layoutSetting:t}=Y(o),c=be(),m=_e(),{t:r}=Ne(),{selectedKeys:i,openKeys:p}=Y(m),{isMobile:d,isPad:$}=$t();Xe($,C=>{C?o.toggleCollapsed(!0):o.toggleCollapsed(!1)});const _=A(()=>Ee(o.layoutSetting,["fixedHeader","fixedSider","splitMenus","menuHeader","header","menu","layout","footer","contentWidth","compactAlgorithm"]));return(C,v)=>{const f=Tt,a=He,u=_t;return l(),k(U,null,[s(Vt,ke({collapsed:e(t).collapsed,theme:e(t).theme,"menu-data":e(c).menuData},e(_),{"selected-keys":e(i),"open-keys":e(t).layout==="top"?[]:e(p),copyright:e(t).copyright,"is-mobile":e(d),logo:e(t).logo,title:e(t).title,"accordion-mode":e(t).accordionMode,"left-collapsed":e(t).leftCollapsed,"header-height":e(t).headerHeight,"onUpdate:openKeys":e(m).handleOpenKeys,"onUpdate:selectedKeys":e(m).handleSelectedKeys,"onUpdate:collapsed":e(o).toggleCollapsed}),{headerActions:n(()=>[s(f),s(a)]),contentPrefix:n(()=>[e(t).multiTab?(l(),h(sa,{key:0})):b("",!0)]),renderFooterLinks:n(()=>[]),default:n(()=>[s(u,{class:"h-full w-full flex flex-col flex-1",content:e(t).watermark?e(t).title??"Antdv Pro":" "},{default:n(()=>[s(xe)]),_:1},8,["content"])]),_:1},16,["collapsed","theme","menu-data","selected-keys","open-keys","copyright","is-mobile","logo","title","accordion-mode","left-collapsed","header-height","onUpdate:openKeys","onUpdate:selectedKeys","onUpdate:collapsed"]),s(ta,ke({open:e(t).drawerVisible,"onUpdate:open":v[0]||(v[0]=R=>e(t).drawerVisible=R),t:e(r),theme:e(t).theme,"color-primary":e(t).colorPrimary,"color-weak":e(t).colorWeak,"color-gray":e(t).colorGray,"multi-tab":e(t).multiTab,"multi-tab-fixed":e(t).multiTabFixed,"animation-name-list":e(Ie),"animation-name":e(t).animationName,"keep-alive":e(t).keepAlive,"accordion-mode":e(t).accordionMode,"left-collapsed":e(t).leftCollapsed,watermark:e(t).watermark},e(_),{"layout-setting":e(t),onSettingChange:e(o).changeSettingLayout}),null,16,["open","t","theme","color-primary","color-weak","color-gray","multi-tab","multi-tab-fixed","animation-name-list","animation-name","keep-alive","accordion-mode","left-collapsed","watermark","layout-setting","onSettingChange"])],64)}}});export{ha as default};
